plugins {
    id 'idea'
    id 'play'
}

project.description = 'iMaster - lightweight project to manage university masters'
project.group = 'by.slesh'
project.version = '1.0.0'

task makefe(dependsOn: ':frontend:build') {
    doLast {
        copy {
            from 'frontend/dest'
            into 'api/public'
        };
        println 'frontend was built successfully!'
    }
}

task makeapi(dependsOn: ':api:playBinary') {
    mustRunAfter makefe
    doLast {
        println 'api was built successfully!'
    }
}

task makeapp(dependsOn: [makefe, makeapi]) {
    doLast {
        println 'build done!'
    }
}

task startapi(dependsOn: [makeapp, ':api:runPlayBinary']) {
    mustRunAfter makeapp
    doLast {
        println 'started'
    }
}






